<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Async :: Apache Camel</title> <meta name="generator" content="Antora 3.0.0-alpha.1"> <link rel="stylesheet" href="../../_/css/site-a192e92461.css"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item-section navbar-item navbar-topics" href="../../blog/"> <img alt="Blog" src="/_/img/blog.svg"> Blog </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../docs/"> <img alt="Documentation" src="/_/img/documentation.svg"> Documentation </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../community/"> <img alt="Community" src="/_/img/community.svg"> Community </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../download/"> <img alt="Download" src="/_/img/download.svg"> Download </a> </div> </div> <div class="navbar-fill"></div> <div class="break-row"></div> <div class="navbar-search results-hidden"> <input id="search" class="search" placeholder="Search" autocomplete="off"> <img src="/_/img/cancel.svg" alt="Clear" id="search-cancel"> <div id="search_results"></div> </div> <div class="navbar-tools"> <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#zulip"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button" aria-label="Menu"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <a id="top"></a> <div class="body"> <div class="nav-container" data-component="manual" data-version="latest"> <aside class="nav"> <div class="panels"> <div class="nav-panel-menu is-active"> <nav class="nav-menu" data-panel="menu"> <h3 class="title"><a href="index.html">User manual</a></h3> <ul class="nav-list"> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle" aria-label="Expand or contract topic"></button> <a class="nav-link" href="getting-started.html">Getting started</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="book-getting-started.html">Getting Started with Apache Camel</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="what-are-the-dependencies.html">What are the dependencies?</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle" aria-label="Expand or contract topic"></button> <span class="nav-text">Resources &amp; Guides</span> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="/community/books/">Books</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="building.html">Building</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-jar-dependencies.html">Camel JAR Dependencies</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-boot.html">Camel Boot</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-maven-plugin.html">Camel Maven Plugin</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-component-maven-plugin.html">Camel Component Maven Plugin</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-report-maven-plugin.html">Camel Maven Report Plugin</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-maven-archetypes.html">Camel Maven Archetypes</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="configuring-camel.html">Configuring Camel</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="configuring-route-startup-ordering-and-autostartup.html">Configuring route startup ordering and autostartup</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="creating-a-new-spring-based-camel-route.html">Creating a new Spring based Camel Route</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="component-dsl.html">Component-dsl</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="Endpoint-dsl.html">Endpoint-dsl</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="examples.html">Examples</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="graceful-shutdown.html">Graceful Shutdown</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="error-handling-in-camel.html">Error handling in Camel</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="using-osgi-blueprint-with-camel.html">Using OSGi blueprint with Camel</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="using-propertyplaceholder.html">How to use Camel property placeholders</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="templating.html">Templating</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="testing.html">Testing</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="rest-dsl.html">Working with REST and Rest DSL</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="writing-components.html">Writing Components</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="xml-configuration.html">XML Configuration</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="xml-reference.html">XML Reference</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="release-guide.html">Release guide</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="improving-the-documentation.html">Improving the Documentation</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle" aria-label="Expand or contract topic"></button> <a class="nav-link" href="migration-and-upgrade.html">Migration and Upgrade</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-3-migration-guide.html">Camel 2.x to 3.0 Migration Guide</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-3x-upgrade-guide.html">Camel 3.x Upgrade Guide</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle" aria-label="Expand or contract topic"></button> <a class="nav-link" href="architecture.html">Architecture</a> <ul class="nav-list"> <li class="nav-item is-current-page" data-depth="2"> <a class="nav-link" href="async.html">Async</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="asynchronous-routing-engine.html">Asynchronous Routing Engine</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="backlogdebugger.html">Backlog debugger</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="backlog-tracer.html">Backlog Tracer</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="bam.html">Business Activity Monitoring</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="batch-consumer.html">Batch Consumer</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="bean-binding.html">Bean Binding</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="bean-integration.html">Bean Integration</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="binding.html">Binding</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="browsable-endpoint.html">BrowsableEndpoint</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-core.html">Core</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camelcontext.html">Context</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="clustering.html">Clustering and loadbalancing</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="endpoint.html">Endpoints</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="cep.html">Complex Event Processing</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="component.html">Component</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="data-format.html">Data Format</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="debugger.html">Debugger</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="delay-interceptor.html">Delay interceptor</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="dependency-injection.html">Dependency Injection</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="dozer-type-conversion.html">Dozer Type Conversion</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="endpoint-annotations.html">Endpoint Annotations</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="exception-clause.html">Exception Clause</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="exchange-pooling.html">Exchange Pooling</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="fluent-builders.html">Fluent Builders</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="http-session-handling.html">HTTP-Session Handling</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="parameter-binding-annotations.html">Parameter Binding Annotations</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="pojo-producing.html">POJO Producing</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="pojo-consuming.html">POJO Consuming</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="error-handler.html">Error Handler</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="exchange.html">Message Exchange</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="exchange-pattern.html">Exchange Pattern</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="using-exchange-pattern-annotations.html">Using Exchange pattern annotations</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="expression.html">Expressions</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="../../components/latest/eips/content-enricher.html">Content Enrichment</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="injector.html">Injector</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="../../components/latest/eips/intercept.html">Intercept</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="inversion-of-control-with-smart-defaults.html">Inversion Of Control With Smart Defaults</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="jmx.html">JMX</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="lifecycle.html">Camel Lifecycle</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="oncompletion.html">OnCompletion</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="pluggable-class-resolvers.html">Pluggable Class Resolvers</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="predicate.html">Predicates</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="processor.html">Processor</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="registry.html">Registry</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="route-builder.html">RouteBuilder</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="lambda-route-builder.html">LambdaRouteBuilder</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="route-controller.html">RouteController</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="route-policy.html">RoutePolicy</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="route-template.html">RouteTemplate</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="routes.html">Routes</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="stream-caching.html">Stream caching</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="transformer.html">Transformer</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="threading-model.html">Threading Model</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="tracer.html">Tracer</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="transport.html">Transport</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="type-converter.html">Type Converter</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="uris.html">URIs</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="uuidgenerator.html">UuidGenerator</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="validator.html">Validator</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="hiding-middleware.html">Hiding Middleware</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="health-check.html">Health Checks</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle" aria-label="Expand or contract topic"></button> <span class="nav-text">Domain Specific Languages</span> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="dsl.html">Camel Domain Specific Language</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="languages.html">Languages</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="java-dsl.html">Java DSL</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="spring.html">Spring support</a> </li> </ul> </li> </ul> </li> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle" aria-label="Expand or contract topic"></button> <a class="nav-link" href="faq/index.html">FAQ</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/can-i-get-commercial-support.html">Can I get commercial support?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="/community/support/">How can I get help?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-i-get-the-source-code.html">How can I get the source code?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-compare-to-mule.html">How does Camel compare to Mule?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-compare-to-servicemix.html">How does Camel compare to ServiceMix?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-compare-to-servicemix-eip.html">How does Camel compare to ServiceMix EIP?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-compare-to-synapse.html">How does Camel compare to Synapse?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-work.html">How does Camel work?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-work-with-activemq.html">How does Camel work with ActiveMQ?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-work-with-servicemix.html">How does Camel work with ServiceMix?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-the-camel-api-compare-to.html">How does the Camel API compare to?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-the-website-work.html">How does the website work?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-become-a-committer.html">How do I become a committer?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-compile-the-code.html">How do I compile the code?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-edit-the-website.html">How do I edit the website?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-run-camel-using-java-webstart.html">How do I run Camel using Java WebStart?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/if-i-use-servicemix-when-should-i-use-camel.html">If I use ServiceMix when should I use Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/is-camel-an-esb.html">Is Camel an ESB?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/is-camel-ioc-friendly.html">Is Camel IoC friendly?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/running-camel-standalone.html">Running Camel standalone</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-are-the-dependencies.html">What are the dependencies?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-is-a-router.html">What is a router?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-is-camel.html">What is Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-is-the-license.html">What is the license?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-jars-do-i-need.html">What jars do I need?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="languages.html">What languages are supported?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-platforms-are-supported.html">What platforms are supported?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-the-name-camel.html">Why the name Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/classloader-issue-of-servicemix-camel-component.html">Classloader issue of servicemix-camel component</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-specify-which-method-to-use-when-using-beans-in-routes.html">How do I specify which method to use when using beans in routes?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-i-create-a-custom-component-or-endpoint.html">How can I create a custom component or endpoint?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-i-get-the-remote-connection-ip-address-from-the-camel-cxf-consumer-.html">How can I get the remote connection IP address from the camel-cxf consumer ?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-i-stop-a-route-from-a-route.html">How can I stop a route from a route?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-webservice-clients-see-remote-faults-with-stacktraces-when-using-camel-cxf.html">How can webservice clients see remote faults with stacktraces when using camel-cxf?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-look-up-beans-and-endpoints.html">How does Camel look up beans and endpoints?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="configuring-camel.html">How do I add a component?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-change-the-logging.html">How do I change the logging?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-configure-endpoints.html">How do I configure endpoints?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-configure-password-options-on-camel-endpoints-without-the-value-being-encoded.html">How do I configure password options on Camel endpoints without the value being encoded?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-configure-the-default-maximum-cache-size-for-producercache-or-producertemplate.html">How do I configure the default maximum cache size for ProducerCache or ProducerTemplate?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-configure-the-maximum-endpoint-cache-size-for-camelcontext.html">How do I configure the maximum endpoint cache size for CamelContext?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-debug-my-route.html">How do I debug my route?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-disable-jmx.html">How do I disable JMX?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-enable-streams-when-debug-logging-messages-in-camel.html">How do I enable streams when debug logging messages in Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-handle-failures-when-consuming-for-example-from-a-ftp-server.html">How do I handle failures when consuming for example from a FTP server?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-import-rests-from-other-xml-files.html">How do I import rests from other XML files?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-import-routes-from-other-xml-files.html">How do I import routes from other XML files?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-let-jetty-match-wildcards.html">How do I let Jetty match wildcards?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-name-my-routes.html">How do I name my routes?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-restart-camelcontext.html">How do I restart CamelContext?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-retrieve-the-thrown-exception-during-processing-an-exchange.html">How do I retrieve the thrown Exception during processing an Exchange?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-retry-failed-messages-forever.html">How do I retry failed messages forever?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-retry-processing-a-message-from-a-certain-point-back-or-an-entire-route.html">How do I retry processing a message from a certain point back or an entire route?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-reuse-the-contexttestsupport-class-in-my-unit-tests.html">How do I reuse the ContextTestSupport class in my unit tests?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-run-activemq-and-camel-in-jboss.html">How do I run ActiveMQ and Camel in JBoss?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-set-the-max-chars-when-debug-logging-messages-in-camel.html">How do I set the max chars when debug logging messages in Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-a-big-uber-jar.html">How do I use a big (uber) JAR?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-camel-inside-servicemix.html">How do I use Camel inside ServiceMix?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-spring-property-placeholder-with-camel-xml.html">How do I use Spring Property Placeholder with Camel XML?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-uris-with-parameters-in-xml.html">How do I use URIs with parameters in XML?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-write-a-custom-processor-which-sends-multiple-messages.html">How do I write a custom Processor which sends multiple messages?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-should-i-invoke-my-pojos-or-spring-services.html">How should I invoke my POJOs or Spring Services?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-should-i-package-applications-using-camel-and-activemq.html">How should I package applications using Camel and ActiveMQ?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-avoid-importing-bunch-of-cxf-packages-when-start-up-the-camel-cxf-endpoint-from-osgi-platform-.html">How to avoid importing bunch of cxf packages when start up the camel-cxf endpoint from OSGi platform?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-avoid-sending-some-or-all-message-headers.html">How to avoid sending some or all message headers?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-define-a-static-camel-converter-method-in-scala.html">How to define a static Camel converter method in Scala?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-remove-the-http-protocol-headers-in-the-camel-message.html">How to remove the http protocol headers in the camel message?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-send-the-same-message-to-multiple-endpoints.html">How to send the same message to multiple endpoints?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-switch-the-cxf-consumer-between-http-and-https-without-touching-the-spring-configuration.html">How to switch the CXF consumer between HTTP and HTTPS without touching the Spring configuration?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-use-a-dynamic-uri-in-to.html">How to use a dynamic URI in to()?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/is-there-an-ide.html">Is there an IDE?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/should-i-deploy-camel-inside-the-activemq-broker-or-in-another-application.html">Should I deploy Camel inside the ActiveMQ broker or in another application?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/using-camel-core-testsjar.html">Using camel-core-tests.jar</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/using-getin-or-getout-methods-on-exchange.html">Using getIn or getOut methods on Exchange</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-cant-i-use-sign-in-my-password.html">Why can&#8217;t I use + sign in my password?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-can-i-not-use-when-or-otherwise-in-a-java-camel-route.html">Why can I not use when or otherwise in a Java Camel route?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-ftp-component-not-download-any-files.html">Why does FTP component not download any files?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-my-file-consumer-not-pick-up-the-file-and-how-do-i-let-the-file-consumer-use-the-camel-error-handler.html">Why does my file consumer not pick up the file, and how do I let the file consumer use the Camel error handler?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-useoriginalmessage-with-error-handler-not-work-as-expected.html">Why does useOriginalMessage with error handler not work as expected?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-do-my-message-lose-its-headers-during-routing.html">Why do my message lose its headers during routing?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-is-my-message-body-empty.html">Why is my message body empty?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-is-my-processor-not-showing-up-in-jconsole.html">Why is my processor not showing up in JConsole?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-is-the-exception-null-when-i-use-onexception.html">Why is the exception null when I use onException?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-use-multiple-camelcontext.html">Why use multiple CamelContext?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-enable-debug-logging.html">How do I enable debug logging?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-java-14-logging.html">How do I use Java 1.4 logging?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-log4j.html">How do I use log4j?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-invoke-camel-routes-from-jbi.html">How do I invoke Camel routes from JBI?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-make-my-jms-endpoint-transactional.html">How Do I Make My JMS Endpoint Transactional?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-set-the-mep-when-interacting-with-jbi.html">How do I set the MEP when interacting with JBI?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-the-direct-event-seda-and-vm-endpoints-compare.html">How do the direct, event, seda and vm endpoints compare?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-the-timer-and-quartz-endpoints-compare.html">How do the Timer and Quartz endpoints compare?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-my-jms-route-only-consume-one-message-at-once.html">Why does my JMS route only consume one message at once?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/exception-beandefinitionstoreexception.html">Exception - BeanDefinitionStoreException</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/exception-javaxnamingnoinitialcontextexception.html">Exception - javax.naming.NoInitialContextException</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/exception-orgapachecamelnosuchendpointexception.html">Exception - org.apache.camel.NoSuchEndpointException</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/exception-orgxmlsaxsaxparseexception.html">Exception - org.xml.sax.SAXParseException</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/memory-leak-when-adding-and-removing-routes-at-runtime.html">Memory leak when adding and removing routes at runtime</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-do-camel-throw-so-many-noclassdeffoundexception-on-startup.html">Why do Camel throw so many NoClassDefFoundException on startup?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-camel-use-too-many-threads-with-producertemplate.html">Why does Camel use too many threads with ProducerTemplate?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-maven-not-download-dependencies.html">Why does maven not download dependencies?</a> </li> </ul> </li> </ul> </li> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <span class="nav-text"><strong>Reference</strong></span> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../../components/latest/index.html">Components</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../../components/latest/dataformats/index.html">Data Formats</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../../components/latest/languages/index.html">Languages</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../../components/latest/eips/enterprise-integration-patterns.html">EIPs</a> </li> </ul> </li> </ul> </nav> </div> <div class="nav-panel-explore" data-panel="explore"> <div class="context"> <span class="title">User manual</span> <span class="version">latest</span> </div> <ul class="components"> <li class="component is-current"> <span class="title">User manual</span> <ul class="versions"> <li class="version is-current"> <a href="index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Camel Components</span> <ul class="versions"> <li class="version"> <a href="../../components/latest/index.html">latest</a> </li> <li class="version"> <a href="../../components/3.10.x/index.html">3.10.x</a> </li> <li class="version"> <a href="../../components/3.7.x/index.html">3.7.x (LTS)</a> </li> <li class="version"> <a href="../../components/3.4.x/index.html">3.4.x (LTS)</a> </li> <li class="version"> <a href="../../components/2.x/index.html">2.x</a> </li> </ul> </li> <li class="component"> <span class="title">Camel K</span> <ul class="versions"> <li class="version"> <a href="../../camel-k/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Camel Kafka Connector</span> <ul class="versions"> <li class="version"> <a href="../../camel-kafka-connector/latest/index.html">latest</a> </li> <li class="version"> <a href="../../camel-kafka-connector/0.7.x/index.html">0.7.x</a> </li> <li class="version"> <a href="../../camel-kafka-connector/0.4.x/index.html">0.4.x</a> </li> </ul> </li> <li class="component"> <span class="title">Kamelet Catalog</span> <ul class="versions"> <li class="version"> <a href="../../camel-kamelets/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Camel Karaf</span> <ul class="versions"> <li class="version"> <a href="../../camel-karaf/latest/index.html">latest</a> </li> <li class="version"> <a href="../../camel-karaf/3.10.x/index.html">3.10.x</a> </li> <li class="version"> <a href="../../camel-karaf/3.7.x/index.html">3.7.x (LTS)</a> </li> <li class="version"> <a href="../../camel-karaf/3.4.x/index.html">3.4.x (LTS)</a> </li> </ul> </li> <li class="component"> <span class="title">Camel Quarkus</span> <ul class="versions"> <li class="version"> <a href="../../camel-quarkus/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Camel Spring Boot</span> <ul class="versions"> <li class="version"> <a href="../../camel-spring-boot/latest/index.html">latest</a> </li> <li class="version"> <a href="../../camel-spring-boot/3.10.x/index.html">3.10.x</a> </li> <li class="version"> <a href="../../camel-spring-boot/3.7.x/index.html">3.7.x (LTS)</a> </li> <li class="version"> <a href="../../camel-spring-boot/3.4.x/index.html">3.4.x (LTS)</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main class="article"> <nav class="toolbar"> <button class="nav-toggle" aria-label="Toggle submenu"></button> <a href="index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">User manual</a></li> <li><a href="architecture.html">Architecture</a></li> <li><a href="async.html">Async</a></li> </ul> </nav> <div class="edit-this-page"><a href="https://github.com/apache/camel/edit/main/docs/user-manual/modules/ROOT/pages/async.adoc">Edit this Page</a></div> </nav> <div class="content"> <article class="doc"> <h1 class="page">Async</h1> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><strong>Since Camel 2.0</strong></p> </div> <div class="paragraph"> <p>The asynchronous API in Camel has been rewritten for Camel 2.0, and the information on this page applies for Camel 2.0 and later.</p> </div> <div class="paragraph"> <p>The Async API in Camel is primarily divided in two areas:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>Initiating an Async messaging from the client</p> </li> <li> <p>Turning a route into Async using the <strong>threads</strong> DSL</p> </li> </ol> </div> <div class="paragraph"> <p>Before we look at these two areas we start with a bit of background information and look at the concept from a higher level using diagrams.<br> Then we check out the first area how a client can initiate an Async message exchange and we also throw in the synchronous message exchange in the mix as well so we can compare and distill the difference.<br> And finally, we turn our attention towards the last area the new <strong>threads</strong> DSL and what it can be used for.</p> </div> </div> </div> <div class="sect1"> <h2 id="Async-Background"><a class="anchor" href="#Async-Background"></a>Background</h2> <div class="sectionbody"> <div class="paragraph"> <p>The new Async API in Camel 2.0 leverages in much greater detail the Java Concurrency API and its support for executing tasks asynchronously.<br> Therefore the Camel Async API should be familiar for users with knowledge of the Java Concurrency API.</p> </div> </div> </div> <div class="sect1"> <h2 id="Async-Afewconceptstomaster"><a class="anchor" href="#Async-Afewconceptstomaster"></a>A few concepts to master</h2> <div class="sectionbody"> <div class="paragraph"> <p>When doing messaging there are a few aspects to keep in mind.</p> </div> <div class="paragraph"> <p>First of all, a caller can initiate a message exchange as either:</p> </div> <div class="ulist"> <ul> <li> <p>Request only</p> </li> <li> <p>Request Reply</p> </li> </ul> </div> <div class="paragraph"> <p>Request only is when the caller sends a message but do <strong>not</strong> expect any reply. This is also known as fire and forget or event message.</p> </div> <div class="paragraph"> <p>The Request Reply is when the caller sends a message and then <strong>waits for a reply</strong>. This is like the <a href="../../components/latest/http-component.html" class="page">HTTP</a> protocol that we use every day when we surf the web. We send a request to fetch a web page and wait until the reply message comes with the web content.</p> </div> <div class="paragraph"> <p>In Camel a message is labeled with a Message Exchange Pattern that labels whether its a request only or request reply message. Camel uses the JBI term <code>InOnly</code> for the request only and <code>InOut</code> for the request reply.</p> </div> <div class="paragraph"> <p>For all message exchange they can be executed either:</p> </div> <div class="ulist"> <ul> <li> <p>synchronous</p> </li> <li> <p>asynchronous</p> </li> </ul> </div> <div class="sect2"> <h3 id="Async-SynchronousRequestReply"><a class="anchor" href="#Async-SynchronousRequestReply"></a>Synchronous Request Reply</h3> <div class="paragraph"> <p>A synchronous exchange is defined as the caller sends a message and waits until it&#8217;s complete before continuing. This is illustrated in the diagram below:</p> </div> <div class="imageblock"> <div class="content"> <img src="_images/camel_sync_request_reply.png" alt="image"> </div> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>The client sends a sync Request Reply message over <a href="../../components/latest/http-component.html" class="page">HTTP</a> to Camel. The client application will wait for the response that Camel routes and processes.</p> </li> <li> <p>The message invokes an external <a href="../../components/latest/mina-component.html" class="page">TCP</a> service using synchronous Request Reply. The client application still waits for the response.</p> </li> <li> <p>The response is sent back to the client.</p> </li> </ol> </div> </div> <div class="sect2"> <h3 id="Async-AsynchronousRequestReply"><a class="anchor" href="#Async-AsynchronousRequestReply"></a>Asynchronous Request Reply</h3> <div class="paragraph"> <p>On the other hand, the asynchronous version is where the caller sends a message to an Endpoint and then returns immediately back to the caller. The message, however, is processed in another thread, the asynchronous thread. Then the caller can continue doing other work and at the same time, the asynchronous thread is processing the message. This is illustrated in the diagram below:</p> </div> <div class="imageblock"> <div class="content"> <img src="_images/camel_async_request_reply.png" alt="image"> </div> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>The client sends an Async Request Reply message over HTTP to Camel. The control is immediately returned to the client application, that can continue and do other work while Camel routes the message.</p> </li> <li> <p>Camel invokes an external <a href="../../components/latest/mina-component.html" class="page">TCP</a> service using synchronous Request Reply. The client application can do other work simultaneously.</p> </li> <li> <p>The client wants to get the reply so it uses the Future handle it got as <em>response</em> from step 1. With this handle it retrieves the reply, wait if necessary if the reply is not ready.</p> </li> </ol> </div> </div> </div> </div> <div class="sect1"> <h2 id="Async-SynchronousRequestOnly"><a class="anchor" href="#Async-SynchronousRequestOnly"></a>Synchronous Request Only</h2> <div class="sectionbody"> <div class="paragraph"> <p>You can also do synchronous Request only with Camel. The client sends a message to Camel in which a reply is not expected. However, the client still waits until the message is processed completely. This is illustrated in the diagram below:</p> </div> <div class="imageblock"> <div class="content"> <img src="_images/camel_sync_request_only.png" alt="image"> </div> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>The client sends a Request only and we can still use <a href="../../components/latest/http-component.html" class="page">HTTP</a> despite http being Request Reply by nature.</p> </li> <li> <p>Camel invokes an external <a href="../../components/latest/mina-component.html" class="page">TCP</a> service using synchronous Request Reply. The client application is still waiting.</p> </li> <li> <p>The message is processed completely and the control is returned to the client.</p> </li> </ol> </div> <div class="paragraph"> <p>So why do you want to use synchronous <a href="../../components/latest/eips/event-message.html" class="page">Request Only</a>? Well if you want to know whether the message was processed successfully or not before continuing. With synchronous it allows you to wait while the message is being processed. In case the processing was successful the control is returned to the client with no notion of error. In case of failure, the client can detect this as an exception is thrown. (and <code>exchange.isFailed()</code> returns <code>true</code>).</p> </div> </div> </div> <div class="sect1"> <h2 id="Async-AsynchronousRequestOnly"><a class="anchor" href="#Async-AsynchronousRequestOnly"></a>Asynchronous Request Only</h2> <div class="sectionbody"> <div class="paragraph"> <p>As opposed to the synchronous Request Only the Async counterpart will <strong>not</strong> wait for the processing of the message to complete. In this case, the client can immediately continue doing other work while the message is being routed and processed in Camel. This is illustrated in the diagram below:</p> </div> <div class="imageblock"> <div class="content"> <img src="_images/camel_async_request_only.png" alt="image"> </div> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>The client sends a Request only and we can still use <a href="../../components/latest/http-component.html" class="page">HTTP</a> despite http being Request Reply by nature. The control is immediately returned to the client application, that can continue and do other work while Camel routes the message.</p> </li> <li> <p>Camel invokes an external <a href="../../components/latest/mina-component.html" class="page">TCP</a> service using synchronous Request Reply. The client application can do other work simultaneously.</p> </li> <li> <p>The message completes but no result is returned to the client.</p> </li> </ol> </div> <div class="paragraph"> <p><strong>Notice:</strong> As Camel always returns a <code>Future</code> handle for Async messaging to the client. The client can use this handler to get hold of the status of the processing whether the task is complete or an Exception occurred during processing. Note that the client is not required to do so, it&#8217;s perfectly valid to just ignore the Future handle.</p> </div> <div class="admonitionblock tip"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td> <td class="content"> In case you want to know whether the Async Request Only failed, then you can use the <code>Future</code> handle and invoke <code>get()</code> and if it throws a <code>ExecutionException</code> then the processing failed. The caused exception is wrapped. You can invoke <code>isDone()</code> first to test whether the task is done or still in progress. Otherwise invoking <code>get()</code> will wait until the task is done. </td> </tr> </table></div> </div> <div class="paragraph"> <p>With these diagrams in mind, lets turn out attention to the Async API and how to use it with Camel.</p> </div> </div> </div> <div class="sect1"> <h2 id="Async1TheClientAPI"><a class="anchor" href="#Async1TheClientAPI"></a>The Async Client API</h2> <div class="sectionbody"> <div class="paragraph"> <p>Camel provides the Async Client API in the <a href="https://www.javadoc.io/doc/org.apache.camel/camel-api/current/org/apache/camel/ProducerTemplate.html">ProducerTemplate</a> where we have added about 10 new methods to Camel 2.0. We have listed the most important in the table below:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Method</th> <th class="tableblock halign-left valign-top">Returns</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">setExecutorService</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">void</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Is used to set the Java ExecutorService. Camel will by default provide a ScheduledExecutorService with 5 thread in the pool.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">asyncSend</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Future&lt;Exchange&gt;</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Is used to send an async exchange to a Camel Endpoint. Camel will immediately return control to the caller thread after the task has been submitted to the executor service. This allows you to do other work while Camel processes the exchange in the other async thread.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">asyncSendBody</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Future&lt;Object&gt;</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">As above but for sending body only. This is a request only messaging style so no reply is expected. Uses the <code>InOnly</code> exchange pattern.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">asyncRequestBody</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Future&lt;Object&gt;</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">As above but for sending body only. This is a Request Reply messaging style so a reply is expected. Uses the <code>InOut</code> exchange pattern.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">extractFutureBody</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">T</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Is used to get the result from the asynchronous thread using the Java Concurrency Future handle.</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>The <code>asyncSend</code> and <code>asyncRequest</code> methods return a Future handle. This handle is what the caller must use later to retrieve the asynchronous response. You can do this by using the <code>extractFutureBody</code> method, or just use plain Java but invoke <code>get()</code> on the <code>Future</code> handle.</p> </div> </div> </div> <div class="sect1"> <h2 id="Async-TheClientAPIwithcallbacks"><a class="anchor" href="#Async-TheClientAPIwithcallbacks"></a>The Async Client API with callbacks</h2> <div class="sectionbody"> <div class="paragraph"> <p>In addition to the Client API from above Camel provides a variation that uses callbacks when the message Exchange is done.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Method</th> <th class="tableblock halign-left valign-top">Returns</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">asyncCallback</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Future&lt;Exchange&gt;</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">In addition, a callback is passed in as a parameter using the <code>org.apache.camel.spi.Synchronization</code> Callback. The callback is invoked when the message exchange is done.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">asyncCallbackSendBody</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Future&lt;Object&gt;</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">As above but for sending body only. This is a request only messaging style so no reply is expected. Uses the <code>InOnly</code> exchange pattern.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">asyncCallbackRequestBody</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Future&lt;Object&gt;</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">As above but for sending body only. This is a Request Reply messaging style so a reply is expected. Uses the <code>InOut</code> exchange pattern.</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>These methods also returns the Future handle in case you need them. The difference is that they invokes the callback as well when the Exchange is done being routed.</p> </div> <div class="sect2"> <h3 id="Async-TheFutureAPI"><a class="anchor" href="#Async-TheFutureAPI"></a>The Future API</h3> <div class="paragraph"> <p>The <code>java.util.concurrent.Future</code> API have among others the following methods:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Method</th> <th class="tableblock halign-left valign-top">Returns</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">isDone</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Returns a boolean whether the task is done or not. Will even return <code>true</code> if the tasks failed due to an exception thrown.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">get()</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Gets the response of the task. In case of an exception was thrown the <code>java.util.concurrent.ExecutionException</code> is thrown with the caused exception.</p></td> </tr> </tbody> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="Async-Example:AsynchronousRequestReply"><a class="anchor" href="#Async-Example:AsynchronousRequestReply"></a>Example: Asynchronous Request Reply</h2> <div class="sectionbody"> <div class="paragraph"> <p>Suppose we want to call an <a href="../../components/latest/http-component.html" class="page">HTTP</a> service but it is usually slow and thus we do not want to block and wait for the response, as we can do other important computation. So we can initiate an Async exchange to the HTTP endpoint and then do other stuff while the slow <a href="../../components/latest/http-component.html" class="page">HTTP</a> service is processing our request. And then a bit later we can use the <code>Future</code> handle to get the response from the <a href="../../components/latest/http-component.html" class="page">HTTP</a> service. Yeah nice so let&#8217;s do it:</p> </div> <div class="paragraph"> <p>First, we define some routes in Camel. One for the <a href="../../components/latest/http-component.html" class="page">HTTP</a> service where we simulate a slow server as it takes at least 1 second to reply. And then another route that we want to invoke while the <a href="../../components/latest/http-component.html" class="page">HTTP</a> service is on route. This allows you to be able to process the two routes simultaneously:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// Some other service to return a name, this is invoked synchronously
from("direct:name")
  .transform(constant("Claus"))
  .to("mock:result");

// Simulate a slow http service (delaying 1 sec) we want to invoke async
from("jetty:http://0.0.0.0:%s/myservice", getPort())
  .delay(1000)
  .transform(constant("Bye World"))
  .to("mock:result");</code></pre> </div> </div> <div class="paragraph"> <p>And then we have the client API where we call the two routes and we can get the responses from both of them. As the code is based on a unit test there is a bit of mock in there as well:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MockEndpoint mock = getMockEndpoint("mock:result");
// We expect the name job to be faster than the async job even though the async job
// was started first
mock.expectedBodiesReceived("Claus", "Bye World");

// Send a async request/reply message to the http endpoint
Future&lt;Object&gt; future = template.asyncRequestBody("http://0.0.0.0:" + getPort() + "/myservice", "Hello World");

// We got the future so in the meantime we can do other stuff, as this is Camel
// so lets invoke another request/reply route but this time is synchronous
String name = template.requestBody("direct:name", "Give me a name", String.class);
assertEquals("Claus", name);

// Okay we got a name and we have done some other work at the same time
// the async route is running, but now its about time to wait and get
// get the response from the async task

// We use the extract future body to get the response from the future
// (waiting if needed) and then return a string body response.
// This allows us to do this in a single code line instead of using the
// JDK Future API to get hold of it, but you can also use that if you want
// Adding the (String) To make the CS happy
String response = template.extractFutureBody(future, String.class);
assertEquals("Bye World", response);

assertMockEndpointsSatisfied();</code></pre> </div> </div> <div class="paragraph"> <p>All together it should give you the basic idea of how to use this Async API and what it can do.</p> </div> </div> </div> <div class="sect1"> <h2 id="Async-Example:SynchronousRequestReply"><a class="anchor" href="#Async-Example:SynchronousRequestReply"></a>Example: Synchronous Request Reply</h2> <div class="sectionbody"> <div class="paragraph"> <p>This example is just a pure synchronous version of the async based example above.</p> </div> <div class="paragraph"> <p>The route is the same, so its just how the client initiate and send the messages that differs:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MockEndpoint mock = getMockEndpoint("mock:result");
// We expect the http job to complete before the name job
mock.expectedBodiesReceived("Bye World", "Claus");

// Send a sync request/reply message to the http endpoint
String response = template.requestBody("http://0.0.0.0:" + getPort() + "/myservice", "Hello World", String.class);
assertEquals("Bye World", response);

// Send a sync request/reply message to the direct endpoint
String name = template.requestBody("direct:name", "Give me a name", String.class);
assertEquals("Claus", name);

assertMockEndpointsSatisfied();</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="Async-UsingtheAPIwithcallbacks"><a class="anchor" href="#Async-UsingtheAPIwithcallbacks"></a>Using the Async API with callbacks</h2> <div class="sectionbody"> <div class="paragraph"> <p>Suppose we want to call an <a href="../../components/latest/http-component.html" class="page">HTTP</a> service but it is usually slow and thus we do not want to block and wait for the response, but instead let a callback gather the response. This allows us to send multiple requests without waiting for the replies before we can send the next request.</p> </div> <div class="paragraph"> <p>First, we define a route in Camel for the <a href="../../components/latest/http-component.html" class="page">HTTP</a> service where we simulate a slow server as it takes at least 1 second to reply.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// The mocks are here for unit test
// Simulate a slow http service (delaying a bit) we want to invoke async
from("jetty:http://0.0.0.0:" + getPort() + "/myservice")
  .delay(300)
  .transform(body().prepend("Hello "))
  .to("mock:result");</code></pre> </div> </div> <div class="paragraph"> <p>Then we define our callback where we gather the responses. As this is based on a unit test it just gathers the responses in a list. This is a shared callback we use for every request we send in, but you can use your own individual or use an anonymous callback. The callback supports different methods, but we use <code>onDone</code> that is invoked regardless if the Exchange was processed successfully or failed. The <code>org.apache.camel.spi.Synchronization</code> API provides fine-grained methods for <code>onCompletion</code> and <code>onFailure</code> for the two situations.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">/**
 * Our own callback that will gather all the responses.
 * We extend the SynchronizationAdapter class as we then only need to override the onComplete method.
 */
private static class MyCallback extends SynchronizationAdapter {

  // below the String elements are added in the context of different threads so that we should make
  // sure that this's done in a thread-safe manner, that's no two threads should call the data.add()
  // method below concurrently, so why we use Vector here and not e.g. ArrayList
  private final List&lt;String&gt; data = new Vector&lt;&gt;();

  @Override
  public void onComplete(Exchange exchange) {
    // this method is invoked when the exchange was a success and we can get the response
    String body = exchange.getOut().getBody(String.class);
    data.add(body);

    // the latch is used for testing purposes
    LATCH.countDown();
  }

  public List&lt;String&gt; getData() {
    return data;
  }
}</code></pre> </div> </div> <div class="paragraph"> <p>And then we have the client API where we call the <a href="../../components/latest/http-component.html" class="page">HTTP</a> service using <code>asyncCallback</code> 3 times with different input. As the invocation is Async the client will send 3 requests right after each other, so we have 3 concurrent exchanges in progress. The response is gathered by our callback so we do not have to care how to get the response.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MyCallback callback = new MyCallback();

// Send 3 async request/reply message to the http endpoint
// where we let the callback handle gathering the responses
String url = "http://localhost:" + getPort() + "/myservice";
template.asyncCallbackRequestBody(url, "Claus", callback);
template.asyncCallbackRequestBody(url, "Hadrian", callback);
template.asyncCallbackRequestBody(url, "Willem", callback);</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="Async-UsingtheAPIwiththeCamelclassicAPI"><a class="anchor" href="#Async-UsingtheAPIwiththeCamelclassicAPI"></a>Using the Async API with the Camel classic API</h2> <div class="sectionbody"> <div class="paragraph"> <p>When using the Camel API to create a producer and send an Exchange we do it like this:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Endpoint endpoint = context.getEndpoint("http://slowserver.org/myservice");
Exchange exchange = endpoint.createExchange();
exchange.getIn().setBody("Order ABC");
// create a regular producer
Producer producer = endpoint.createProducer();
// send the exchange and wait for the reply as this is synchronous
producer.process(exchange);</code></pre> </div> </div> <div class="paragraph"> <p>But to do the same with Async we need a little help from a helper class, so the code is:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Endpoint endpoint = context.getEndpoint("http://slowserver.org/myservice");
Exchange exchange = endpoint.createExchange();
exchange.getIn().setBody("Order ABC");
// create a regular producer
Producer producer = endpoint.createProducer();
// normally you will use a shared executor service with pools
ExecutorService executor = Executors.newSingleThreadExecutor();
// send it async with the help of this helper
Future&lt;Exchange&gt; future = AsyncProcessorHelper.asyncProcess(executor, producer, exchange);
// here we got the future handle and we can do other stuff while the exchange is being routed in the other asynchronous thread
...
// and to get the response we use regular Java Concurrency API
Exchange response = future.get();</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="Async2UsingtheThreadsDSL"><a class="anchor" href="#Async2UsingtheThreadsDSL"></a>Using the Threads DSL</h2> <div class="sectionbody"> <div class="paragraph"> <p>In Camel 2.0 the <code>threads</code> DSL replaces the old <code>thread</code> DSL.</p> </div> </div> </div> <div class="sect1"> <h2 id="Async-Camel2.0to2.3behavior"><a class="anchor" href="#Async-Camel2.0to2.3behavior"></a>Camel 2.0 to 2.3 behavior</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <code>threads</code> DSL leverages the JDK concurrency framework for multi-threading. It can be used to turn a synchronous route into Async. What happens is that from the point forwards from <code>threads</code> the messages are routed asynchronous in a new thread. The caller will either wait for a reply if a reply is expected, such as when we use Request Reply messaging. Or the caller will complete as well if no reply was expected such as Request Only messaging.</p> </div> </div> </div> <div class="sect1"> <h2 id="Async-Camel2.4onwardsbehavior"><a class="anchor" href="#Async-Camel2.4onwardsbehavior"></a>Camel 2.4 onwards behavior</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <code>threads</code> DSL leverages the JDK concurrency framework for multi-threading. It can be used to turn a synchronous route into Async. What happens is that from the point forwards from <code>threads</code> the messages are routed asynchronous in a new thread. Camel leverages the <a href="asynchronous-routing-engine.html" class="page">asynchronous routing engine</a>, which was re-introduced in Camel 2.4, to continue routing the Exchange asynchronously.</p> </div> <div class="paragraph"> <p>The <code>threads</code> DSL supports the following options:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Option</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">poolSize</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">A number to indicate the core pool size of the underlying Java <code>ExecutorService</code> that is actually doing all the heavy lifting of handling Async tasks and correlate replies etc. By default, a pool size of 10 is used.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">maxPoolSize</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">A number to indicate the maximum pool size of the underlying Java <code>ExecutorService</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">keepAliveTime</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">A number to indicate how long to keep inactive threads alive</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">timeUnit</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Time unit for the <code>keepAliveTime</code> option</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">maxQueueSize</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">A number to indicate the maximum number of tasks to keep in the worker queue for the underlying Java <code>ExecutorService</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">threadName</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use a custom thread name pattern. See Threading Model for more details.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">rejectedPolicy</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">How to handle rejected tasks. Can be either <code>Abort</code>, <code>CallerRuns</code>, <code>Discard</code>, or <code>DiscardOldest</code>. See below for more details.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">callerRunsWhenRejected</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">A boolean to more easily configure between the most common rejection policies. This option is default enabled. <code>true</code> is the same as <code>rejectedPolicy=CallerRuns</code>, and <code>false</code> is the same as <code>rejectedPolicy=Abort</code>.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">executorService</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">You can provide a custom <code>ExecutorService</code> to use, for instance in a managed environment a J2EE container could provide this service so all thread pools is controlled by the J2EE container.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">executorServiceRef</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">You can provide a named reference to the custom <code>ExecutorService</code> from the Camel registry. Keep in mind that reference to the custom executor service cannot be used together with the executor-related options (like <code>poolSize</code> or <code>maxQueueSize</code>) as referenced executor service should be configured already.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">waitForTaskToComplete</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>@deprecated (removed in Camel 2.4):</strong> Option to specify if the caller should wait for the async task to be complete or not before continuing. The following 3 options is supported: <strong>Always</strong>, <strong>Never</strong> or <strong>IfReplyExpected</strong>. The first two options are self-explained. The last will only wait if the message is Request Reply based. The default option is <strong>IfReplyExpected</strong>.</p></td> </tr> </tbody> </table></div> <div class="sect2"> <h3 id="Async-Aboutrejectedtasks"><a class="anchor" href="#Async-Aboutrejectedtasks"></a>About rejected tasks</h3> <div class="paragraph"> <p>The <code>threads</code> DSL uses a thread pool which has a worker queue for tasks. When the worker queue gets full, the task is rejected. You can customize how to react upon this using the <code>rejectedPolicy</code> and <code>callerRunsWhenRejected</code> option. The latter is used to easily switch between the two most common and recommended settings. Either let the current caller thread execute the task (i.e. it will become synchronous), but also give time for the thread pool to process its current tasks, without adding more tasks - sort of self throttling. This is the default behavior. If setting <code>callerRunsWhenRejected</code> you use the <code>Abort</code> policy, which means the task is rejected, and a <code>RejectedExecutionException</code> is set on the Exchange, and the Exchange will stop continue being routed, and its <code>UnitOfWork</code> will be regarded as failed.</p> </div> <div class="paragraph"> <p>The other options <code>Discard</code> and <code>DiscardOldest</code> work a bit like <code>Abort</code>, however they do <strong>not</strong> set any Exception on the Exchange, which means the Exchange will <strong>not</strong> be regarded as failed, but the Exchange will be successful. When using <code>Discard</code> and <code>DiscardOldest</code> then the Exchange will not continue being routed. <strong>Notice:</strong> There is an issue with these two options in Camel 2.9 or below, that cause the <code>UnitOfWork</code> not to be triggered, so we discourage you from using these options in those Camel releases. This has been fixed in Camel 2.10 onwards.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="Async-Example:threadsDSL"><a class="anchor" href="#Async-Example:threadsDSL"></a>Example: threads DSL</h2> <div class="sectionbody"> <div class="paragraph"> <p>Suppose we receive orders on a JMS queue. Some of the orders expect a reply while others do not (either a <code>JMSReplyTo</code> exists or not). And let&#8217;s imagine to process this order we need to do some heavy CPU calculation. So how do we avoid the messages that do not expect a reply to block until the entire message is processed? Well, we use the <code>threads</code> DSL to turn the route into multi-threading asynchronous routing before the heavy CPU task. Then the messages that do not expect a reply can return beforehand. And the messages that expect a reply, well yeah they have to wait anyway. So this can be accomplished like the route below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// just a unit test but imagine using your own data format that does complex
// and CPU heavy processing for decrypting the message
DataFormat mySecureDataFormat = new StringDataFormat("iso-8859-1");

// list on the JMS queue for new orders
from("jms:queue:order")
  // do some sanity check validation
  .to("bean:validateOrder")
  .to("mock:validate")
  // use multi threading with a pool size of 20
  // turn the route async as some others do not expect a reply
  // and a few does then we can use the threads DSL as a turning point
  // if the JMS ReplyTo was set then we expect a reply, otherwise not
  // use a pool of 20 threads for the point forward
  .threads(20)
  // do some CPU heavy processing of the message (we simulate and delay just 500 ms)
  .unmarshal(mySecureDataFormat)
  .delay(500)
  .to("bean:handleOrder")
  .to("mock:order");</code></pre> </div> </div> <div class="admonitionblock warning"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td> <td class="content"> <strong>Transactions and threads DSL</strong> Mind that when using transactions it&#8217;s often required that the Exchange is processed entirely in the same thread, as the transaction manager often uses <code>ThreadLocal</code> to store the intermediate transaction status. For instance, Spring Transaction does this. So when using <code>threads</code> DSL the Exchange that is processed in the async thread cannot participate in the same transaction as the caller thread. <strong>Notice:</strong> This does not apply to the <code>ProducerTemplate</code> Async API as such as the client usually does not participate in a transaction. So you can still use the Camel Client Async API and do async messaging where the processing of the Exchange is still handled within a transaction. It&#8217;s only the client that submitted the Exchange that does not participate in the same transaction. </td> </tr> </table></div> </div> </div> </div> </article> <aside class="toc sidebar" data-title="Contents" data-levels="2"> <div class="toc-menu"></div> </aside> </div> </main> </div> <div class="footer-tools"> <a href="#top" title="Reach the top of the page">Back to top</a> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <input id="footer-toggle-overview" type="checkbox" title="Show/Hide Overview section"> <dl> <dt><label for="footer-toggle-overview">Overview</label><label for="footer-toggle-overview">&#65291;</label></dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../docs/">Documentation</a></dd> <dd><a href="../../community/support/">Community</a></dd> <dd><a href="../../download/">Download</a></dd> </dl> <input id="footer-toggle-documentation" type="checkbox" title="Show/Hide Documentation section"> <dl> <dt><label for="footer-toggle-documentation">Documentation</label><label for="footer-toggle-documentation">&#65291;</label></dt> <dd><a href="../../manual/latest/">User Manual</a></dd> <dd><a href="../../components/latest/index.html">Components</a></dd> <dd><a href="../../camel-k/latest/">Camel-K</a></dd> <dd><a href="../../camel-kafka-connector/latest/">Camel Kafka Connector</a></dd> <dd><a href="../../camel-quarkus/latest/">Camel Quarkus</a></dd> <dd><a href="../../camel-spring-boot/latest/">Camel Spring Boot</a></dd> <dd><a href="../../camel-karaf/latest/">Camel Karaf</a></dd> <dd><a href="../../manual/latest/faq/index.html">FAQ</a></dd> </dl> <input id="footer-toggle-community" type="checkbox" title="Show/Hide Community section"> <dl> <dt><label for="footer-toggle-community">Community</label><label for="footer-toggle-community">&#65291;</label></dt> <dd><a href="../../community/support/">Support</a></dd> <dd><a href="../../community/contributing/">Contributing</a></dd> <dd><a href="../../community/mailing-list/">Mailing Lists</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <input id="footer-toggle-about" type="checkbox" title="Show/Hide Acknowledgements section"> <dl> <dt><label for="footer-toggle-about">About</label><label for="footer-toggle-about">&#65291;</label></dt> <dd><a href="../../acknowledgments/">Acknowledgments</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p class="remark"> &copy; 2004-2021 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> <div class="resources"> <div class="context"> <a href="../../privacy-policy/">Privacy Policy</a> </div> <div class="context"> <a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a> </div> <div class="context"> <a href="../../sitemap/">Sitemap</a> </div> </div> <div class="footer-icons"> <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos.svg#zulip"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> </div> </footer> <script src="../../_/js/vendor/algoliasearch-8fe81df376.js"></script> <script src="../../_/js/site-0d18f68ee9.js"></script> <script async src="../../_/js/vendor/highlight-a988c6fdd9.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Organization", "name": "Apache Camel", "url": "/", "sameAs": [ "https://twitter.com/ApacheCamel" ], "logo": "../../_/img/logo-d.svg", "description": "Apache Camel  is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL." } </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1, "name": "Apache Camel", "item": "https://camel.apache.org/" }, { "@type": "ListItem", "position": 2, "name": "User manual", "item": "https://camel.apache.org/manual/latest/index.html" }, { "@type": "ListItem", "position": 3, "name": "latest", "item": "https://camel.apache.org/manual/latest/index.html" } , { "@type": "ListItem", "position": 4, "name": "Architecture","item": "https://camel.apache.org/manual/latest/architecture.html"} , { "@type": "ListItem", "position": 5, "name": "Async","item": "https://camel.apache.org/manual/latest/async.html"} ] } </script> </body> </html> 